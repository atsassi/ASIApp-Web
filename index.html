<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ASIApp – Accesso</title>

  <!-- Manifest PWA -->
  <link rel="manifest" href="manifest.json">

  <!-- Icona principale -->
  <link rel="icon" href="favicon.png" type="image/png">

  <!-- Stile principale -->
  <link rel="stylesheet" href="styles.css">

  <!-- Colore barra indirizzi (per mobile) -->
  <meta name="theme-color" content="#c9a227">
</head>

<body class="screen screen--splash">
  <div class="card card--center">
    <div class="logo">
      <!-- usa il tuo PNG o JPG: logo-toro.jpg (o logo-lupo.jpg) -->
      <img src="logo-toro.jpg" alt="ASI Investment" width="120" />
      <h1>ASI INVESTMENT</h1>
    </div>

    <h2>Accesso</h2>
    <form id="asiLogin" class="form">
      <label>Password ASI</label>
      <input type="password" id="asiPass" placeholder="••••••••" required />
      <button type="submit" class="btn btn--gold">Entra</button>

      <p class="help">
        Dimenticata? <a id="forgotLink" href="#">Recupero password</a>
      </p>
      <p id="lockMsg" class="error" style="display:none;"></p>
    </form>
  </div>

  <!-- Script principale -->
  <script src="script.js"></script>

  <!-- Logica di accesso -->
  <script>
    initAsiLogin({
      password: 'asi2025',
      lockMinutes: 15,
      maxAttempts: 3,
      onSuccess: () => location.href = 'login.html',
      onForgot: () => {
        window.location.href =
          'mailto:atsassi@gmail.com?subject=Reset%20password%20ASIApp&body=Richiesta%20reset%20password%20per%20ASIApp.';
      }
    });
  </script>

  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(() => console.log('Service Worker registrato correttamente.'))
          .catch(err => console.error('Errore nel Service Worker:', err));
      });
    }
  </script>
</body>
</html>
